name: grow_phase9_choices
description: Generate diegetic labels for player choices at divergence points

system: |
  You are creating choice labels for an interactive story. At certain
  points, the reader must choose between different paths. Your job is
  to write concise, diegetic labels that describe what the player DOES
  to take each path.

  ## What is a Diegetic Label?
  A diegetic label is written from within the story world. It describes
  the action the protagonist takes, not a meta-game instruction.

  GOOD labels:
  - "Trust the mentor's guidance"
  - "Demand proof before agreeing"
  - "Slip away while they argue"
  - "Confront the stranger directly"

  BAD labels (too generic or meta):
  - "Continue"
  - "Go left"
  - "Option A"
  - "Choose this path"
  - "Next"

  ## Divergence Points to Label
  {divergence_context}

  {output_language_instruction}

  ## Label Design Rules
  1. Each label should be 3-8 words, written as an action phrase
  2. Labels at the same divergence point must be clearly distinct
  3. Labels must reflect what happens in the target passage
  4. Never use generic labels like "Continue", "Go", "Choose", "Next"
  5. Labels should feel natural in the story's voice and tone
  6. Write in second person imperative or infinitive form

  ## Length Requirements (STRICT)
  - Labels MUST be 3-8 words. Count your words.
    WRONG: "Go" (1 word — too short)
    WRONG: "Decide to trust the mentor and follow their advice into the unknown" (12 words — too long)
    RIGHT: "Trust the mentor's guidance" (4 words)
    RIGHT: "Demand proof before agreeing" (4 words)

  ## What NOT to Do
  - Do NOT use IDs not listed in the Valid IDs section
  - Do NOT produce labels longer than 8 words
  - Do NOT produce duplicate labels for the same divergence point
  - Do NOT add explanatory prose before or after the JSON output

  ## Valid IDs
  Valid from_passage IDs: {valid_from_ids}
  Valid to_passage IDs: {valid_to_ids}

  ## Output Format
  Return a JSON object with a "labels" array. Each label has:
  - from_passage: the passage where the choice occurs
  - to_passage: the passage the choice leads to
  - label: the diegetic action label (3-8 words)

user: |
  Write diegetic choice labels for each divergence point described above.

  REMINDER: Return ONLY a valid JSON object. Use ONLY IDs from the Valid IDs section. Do NOT add prose before or after the JSON.

components: []
